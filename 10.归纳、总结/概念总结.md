# 用自己能理解的语言将一些概念描述出来

**由于在网上查找了很多资料，例如：博客园、掘金、知乎、Github等博主写的博文，阅读这些博主写的文章时，发现一些普遍性的问题：**

**一、 标准文档翻译过来后，有太多专业词语，理解起来费劲；**

**二、 有的文章会提到是参考哪个标准或文档，有的没有提到；**

**三、 对一个知识点，有的博主是横向展开分析；有的是纵向展开分析，如果基础不是很扎实，在阅读同一知识点、不同博主写的文章时，常常感到困惑；但由于篇幅限制，不可能将文章写太多太长；**

**四、 不同博主写的博文对有些专业词语，翻译的有些细微不同，在对比整理多个博主写的文章时，会让人感觉有点拿不准；**

**比如：词法环境中的(Environment Record)，有的会翻译成'环境记录'、'环境记录器'、'环境记录项'、'环境记录ER'；**

**为了避免其他人也会遇到这种情况，我尽可能对专业词语采用直译，如果直译的结果不太容易理解，会在后面写上原英文单词；你可以将英文单词进行翻译，再结合自己原有的理解来加深自己对这个专业名词的理解。**

**五、 为了提高学习效率，我会以某一篇或某几篇博文为主，再结合官方文档和其他优秀的博文，归纳、总结、提炼，尽可能的用容易理解的语言表述出来；为了提高可信度，会将引用的文章在后面列举出来。**

---

## 1. 什么是词法环境

在ES5规范中，[词法环境( LexicalEnvironment )](https://es5.github.io/#x10.2)是一种 **规范类型(specification type)** ，基于 ECMAScript 代码的词法嵌套结构来定义 **标识符** 和具体变量或函数的关联 **(可以理解为词法环境是用来定义标识符与变量/函数之间的映射关系)** 。

一个词法环境由 **环境记录 (Environment Record)** 和一个 **外部词法环境(outer reference)** 可能为 **空(null)** 的引用组成。

### 1.1 什么是规范类型(specification type)

在ES5规范的第八章[类型( Types )](https://es5.github.io/#specification-type)中是这么定义的：类型进一步细分为ECMAScript **语言类型( language types )** 和 **规范类型( specification types )**。

+ ECMAScript语言类型 对应的是程序员使用 ECMAScript 语言直接操作的值。ECMAScript语言类型 包括 **Undefined、Null、Boolean、String、Number、Object**。

+ 规范类型 对应的是 **元值( meta-values )**，它被用于在算法中描述 ECMAScript 语言结构的语义和 ECMAScript语言类型。规范类型包括**引用( Reference )、列表( List )、完结(  Completion )、属性描述符 ( Property Descriptor )、属性标识符( Property Identifier )、词法环境( Lexical Environment )、 环境纪录( Environment Record )**。规范类型的值是规范自造的，在 ECMAScript 的实现中不必对应到特定的实体上。规范类型可用来描述 ECMAScript 表达式运算的中间结果，但这样的值不能储存为对象的属性或 ECMAScript 语言的变量值。

#### 1.1.1 什么是元值

元值可以理解为元数据，简单来说，元数据是用来描述数据的数据。类似于高级语言总是要用一个更底层的语言和数据结构来描述和表达；而这也就是JS引擎做的事情。

### 1.2 什么是标识符

标识符指的是变量/函数的名字，而变量则是实际变量原始值或者对象/函数的引用地址。

### 1.3 什么是环境记录 (Environment Record)

环境记录是用于记录与当前词法环境相关的变量名与变量值绑定，也就是标识符与变量/函数之间的映射关系。

环境记录主要有两类：**声明式环境记录(declarative Environment Record)** 和 **对象环境记录(object Environment Record)**；

+ 声明式环境记录：主要用于绑定 var 声明、let 声明、const 声明、函数声明、class 以及模块导入。

+ 对象环境记录：每一个对象环境记录都有一个与之关联的绑定对象 (binding object)，或者叫做 base object，通过该对象来持有绑定关系。

另外，还有 3 种特殊的环境记录，分别是全局环境记录（全局词法环境持有）、模块环境记录（模块词法环境持有）以及函数环境记录（函数词法环境持有）。其中函数以及模块环境记录都是一种声明式环境记录。

### 1.4 什么是外部词法环境(outer reference)

### 1.5 为什么外部词法环境(outer reference)可能为空(null)
